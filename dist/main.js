(()=>{"use strict";class t{constructor(t){this.plugins=t.plugins,this.audiolist=t.audiolist}}t.prototype.list=function(){const t=document.querySelector(".db");this.plugins.json.forEach((e=>{const i=document.createElement("li");i.classList.add("audio-track"),i.dataset.id=e.id,i.title=e.version;const s=document.createElement("p");s.textContent=e.title;const n=document.createElement("img");n.src="./assets/img/track.svg",i.appendChild(n),i.appendChild(s),t.appendChild(i)}))},t.prototype.setPlay=function(){document.querySelectorAll(".audio-track").forEach((t=>{t.addEventListener("click",(()=>{let e=Number(t.getAttribute("data-id"));this.plugins.current=e,this.plugins.playList()}))}))},t.prototype.github=function(){window.open("https://github.com/chendodev","_blank")};const e=t,i=document.querySelector("h1"),s=document.querySelector("audio"),n=document.querySelector("#play img:nth-child(2)"),r=document.querySelector(".menu-list"),o=document.querySelector(".audioList"),a=document.querySelector(".download"),c=document.querySelector(".tracks"),l=document.querySelector(".previous"),u=document.querySelector(".next"),h=document.querySelector("#img-play"),d=new class{constructor(t){this.json=t.json,this.containerSongs=t.containerSongs,this.download=t.download,this.anima=t.anima,this.imgPlay=t.imgPlay,this.musicArray=[],this.title=[],this.src=[],this.id=[],this.current=0}playList(){this.musicArray=this.json.map((t=>t)),this.musicArray.forEach((t=>{const{title:e,track:i,id:s}=t;this.title.push(e),this.src.push(i),this.id.push(s),this.current===s&&this.createSource({title:e,src:i,id:s})}))}autoPlay(){this.containerSongs.addEventListener("ended",(()=>{this.current++,this.current>this.musicArray.length?this.current=1:this.current=this.current,this.createSource({title:this.title[this.current-1],src:this.src[this.current-1],id:this.id[this.current-1]})}))}nextSong(){document.querySelector("source")&&(this.current++,this.current>this.musicArray.length?this.current=1:this.current,this.createSource({title:this.title[this.current-1],src:this.src[this.current-1],id:this.id[this.current-1]}))}preSong(){document.querySelector("source")&&(this.current--,this.current<1?this.current=this.musicArray.length:this.current,this.createSource({title:this.title[this.current-1],src:this.src[this.current-1],id:this.id[this.current-1]}))}createSource(t){const{title:e,src:i,id:s}=t,n=document.querySelector(".description p"),r=document.createElement("source"),o=document.createAttribute("download");this.download.setAttributeNode(o),this.download.href=`./assets/audio/${i}.mp3`,this.anima.style.setProperty("--anima","3s linear infinite"),this.imgPlay.src="./assets/img/pause.svg",null==n||null==s||null==i?n.textContent="Add a Song":(r.src=`./assets/audio/${i}.mp3`,n.textContent=e,r.type="audio/mpeg",r.id=s,this.clearHTML(),this.containerSongs.appendChild(r),this.containerSongs.load(),this.timeAudio())}timeAudio(){setTimeout((()=>{this.containerSongs.play()}),100)}volume(){document.querySelector(".volumen").oninput=t=>{const e=t.target.value;this.containerSongs.volume=e}}clearHTML(){for(;this.containerSongs.firstChild;)this.containerSongs.removeChild(this.containerSongs.firstChild)}}({json:[{title:"Aventura Mística",version:"Dragon Ball | Luis De Lille",track:"aventura-mistica",id:1},{title:"Romance te puedo dar",version:"Dragon Ball | Marisa de Lille",track:"romance-te-puedo-dar",id:2},{title:"Cha-La Head-Cha-La",version:"Dragon Ball Z | Ricardo Silva",track:"chala-head-chala",id:3},{title:"El poder nuestro es...",version:"Dragon Ball Z | Adrián Barba",track:"el-poder-nuestro",id:4},{title:"Angeles Fuimos",version:"Dragon Ball Z | Adrián Barba",track:"angeles-fuimos",id:5},{title:"Mi corazón encantado",version:"Dragon Ball Gt | Aarón Montalvo",track:"mi-corazon-encantado",id:6},{title:"Sinfonía Cozarón Encantado",version:"Sinfonía DB Gt",track:"sinfonia-db-gt",id:7}],containerSongs:s,download:a,anima:c,imgPlay:h}),m=new e({audiolist:o,plugins:d});m.list(),m.setPlay(),i.onclick=()=>m.github(),d.playList(),s.addEventListener("ended",d.autoPlay()),u.onclick=()=>d.nextSong(),l.onclick=()=>d.preSong(),d.volume();const g=new class{constructor(t){this.track=t.audio,this.lists=t.lists,this.anima=t.anima,this.imgPlay=t.imgPlay,this.isPlaying=!0}onPlay(){this.track.play(),this.isPlaying=!0,this.anima.style.setProperty("--anima","3s linear infinite"),this.imgPlay.src="./assets/img/pause.svg"}onPause(){this.track.pause(),this.isPlaying=!1,this.anima.style.setProperty("--anima","paused"),this.imgPlay.src="./assets/img/play.svg"}async toggleAudio(){return this.track.paused&&!this.isPlaying?this.onPlay():this.track.paused?void 0:this.onPause()}toggleMenu(){"250px"===this.lists.style.height?(this.lists.style.height="0px",this.lists.style.borderBottom="0"):(this.lists.style.height="250px",this.lists.style.borderBottom="2px solid #000")}}({audio:s,lists:o,anima:c,imgPlay:h});n.onclick=()=>g.toggleAudio(),r.onclick=()=>g.toggleMenu()})();